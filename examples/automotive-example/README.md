# 180Protocol - Automotive Use Case

For detailed instructions on how to set up and customize CoApps like this using the 180Protocol SDKs, please see

* [Writing your 180protocol CoApp](https://docs.180protocol.com/develop/tutorials/writing-your-180protocol-coapp)

## Introduction
This CoApp is a representative application built on the Aggregator SDK. The use case involves a coalition of car manufacturers
who have come together to generate unique and tangible business insights from their private data sets. The data providers
are major car manufacturers sharing their monthly car sales data, including sensitive information about daily sales trends by
sales geography, car model, and car type. The output of the data aggregation is a series of analytical insights that are available to the
data consumer. These analytical insights, produced with data from car manufacturers, are invaluable as these are not possible
to construct without a unique data sharing solution like 180Protocol. 

Read [Distributed Analytics](https://docs.180protocol.com/learn/sample-use-cases/distributed-analytics) on our wiki for understanding 
how 180Protocol powers a new kind of analytics.

### Provider Input Data
Each data provider is a car manufacturer that shares car sales data broken down by the car brand, model, type and date of sale. 
Average prices, Units and Total Sales are also provided for the cars sold. Such daily sales data is sensitive and cannot be
revealed by car manufacturers to other competitors or market research firms.

* Manufacturer – Manufacturer of the car sold
* Brand – Brand of the car from the given manufacturer
* Model  – Model of the car for the given brand
* Type – Type of the car, one of - SUV, Sedan, Sport Car
* EV – Whether given car is an electric vehicle
* Date – Date of sales for car type
* Country – Country of sales for car type
* Units – Total Units sold for car type on given date
* Average Price – Average Price for car type on given date
* Total Sales – Total Sales for car type on given date

e.x.,

| manufacturer | brand   | model     | type  | ev | date       | country   | units | average_price | total_sales |
|--------------|---------|-----------|-------|----|------------|-----------|-------|---------------|-------------|
| Tesla        | Tesla   | Model 3   | Sedan | EV | 01/10/2021 | Argentina | 7     | 63525.17      | 444676.2    |
| Tesla        | Tesla   | Model 3   | Sedan | EV | 01/10/2021 | Australia | 60    | 63307.45      | 3798447     |
| Tesla        | Tesla   | Model 3   | Sedan | EV | 01/10/2021 | Brazil    | 138   | 63115.03      | 8709874     |
| Tesla        | Tesla   | Model 3   | Sedan | EV | 31/10/2021 | Canada    | 101   | 61418.44      | 6203263     |

### Consumer Data Output
Consumer data outputs are generated by the enclave based aggregator for the data consumer. In this use case, car sales 
analytics broken down by factors like brands, models, and month are calculated as outputs. Additionally, an EV premium 
and market share is calculated based on data from each provider, thereby revealing market level insights and data.

* Average Price – By Brand, By Model, by Type, by Month
* Units Sold – By Brand, By Model, by Type, by Month
* Total Sales  – By Brand, By Model, by Type, by Month, from that markets by manufacturers.
* EV Premium – (Average Price for all EV / Average Price for all non-EV) – 1
* EV Market Share – Total Sales EV / Total Sales
* Monthly Inflation – rate of change in overall average cost by Month

e.x.,
```JSON
{
	"averagePrice": {
		"pivotId": "model",
		"data": {
			"\"Model 3\"": 62841.523,
			"\"CDX\"": 72723.336,
			"\"Escalade\"": 104212.11,
			"\"Superb\"": 34777.344,
			"\"Model X\"": 72397.0,
			"\"XKR-S\"": 141688.61,
			"\"Navigator\"": 63266.695,
			"\"XR-V\"": 20844.127
		}
	},
	"unitsSold": {
		"pivotId": "model",
		"data": {
			"\"Model 3\"": 306.0,
			"\"CDX\"": 84.0,
			"\"Escalade\"": 74.0,
			"\"Superb\"": 2512.0,
			"\"Model X\"": 791.0,
			"\"XKR-S\"": 26.0,
			"\"Navigator\"": 1041.0,
			"\"XR-V\"": 729.0
		}
	},
	"totalSales": {
		"pivotId": "model",
		"data": {
			"\"Model 3\"": 1.915626E7,
			"\"CDX\"": 5909800.5,
			"\"Escalade\"": 7805949.5,
			"\"Superb\"": 8.6522568E7,
			"\"Model X\"": 5.8262976E7,
			"\"XKR-S\"": 3646615.5,
			"\"Navigator\"": 6.7387328E7,
			"\"XR-V\"": 1.5568335E7
		}
	},
	"evPremium": -0.07267605,
	"evMarketShare": 0.48114586
}
```

### Provider Rewards
Data Provider rewards are calculated for each data provider (in this case car manufacturers) by the enclave based aggregator. 
Rewards are based on several individual factors that may differ for each use case and can be configured. 
For this use case, the factors are:

* Amount Provided – Percentage of rows from the data provider out of the entire data set from all providers
* Uniqueness – Percentage of brands covered out of the entire data set
* Completeness – Number of distinct model, country combinations
* Update Frequency – Frequency of updates of the data over past few months

e.x.,
```JSON
{
	"amountProvided": 0.5,
	"completeness": 0.5,
	"uniqueness": 0.6666667,
	"updateFrequency": 0.71428573,
	"qualityScore": 0.5952381,
	"rewards": 59.523808,
	"dataType": "testSchema1"
}
```
To summarize, a car manufacturer providing the most car sales data, that covers a wide range of car models, brands, and countries
and is recent - stands the chance to earn the most rewards

